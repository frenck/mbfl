# user-fix-path-variable --

source `mbfl-config` || exit 1

declare item
declare -a mbfl_FIELDS FIELDS
declare -i dimension COUNT i

mbfl_variable_colon_variable_drop_duplicate PATH
mbfl_variable_colon_variable_to_array PATH
dimension=${#mbfl_FIELDS[*]}

for ((i=0, COUNT=0; $i < ${dimension}; ++i)); do
    item="${mbfl_FIELDS[$i]}"
    user-validate-directory-readable "${item}" || {
        user-message-warning "dropping unexistent or unreadable '${item}'"
        continue
    }
    FIELDS[${COUNT}]="${item}"
    let ++COUNT
done
mbfl_FIELDS=("${FIELDS[@]}")
mbfl_variable_array_to_colon_variable PATH
echo "${PATH}"
exit 0

### end of file
# Local Variables:
# mode: sh
# End:
